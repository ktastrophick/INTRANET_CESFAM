{% extends "base/base.html" %}
{% load static %}

{% block title %}Eliminar Solicitud — Intranet CESFAM{% endblock %}

{% block extra_css %}
    {# Si tienes un CSS general de solicitudes, lo reutilizamos #}
    <link rel="stylesheet" href="{% static 'css/solicitudes.css' %}">
{% endblock %}

{% block content %}
<section class="page-content">
    <div class="solicitud-container solicitud-eliminar">
        <h2>Eliminar Solicitud</h2>

        <p>
            ¿Estás seguro de que deseas eliminar esta solicitud?
            Esta acción no se puede deshacer.
        </p>

        {# Resumen de la solicitud para que el usuario vea qué está borrando #}
        {% if solicitud %}
        <div class="solicitud-resumen-card">
            <p><strong>ID:</strong> {{ solicitud.id_solicitud }}</p>
            <p>
                <strong>Tipo:</strong>
                {{ solicitud.tipo_solicitud.nombre|default:"—" }}
            </p>
            <p>
                <strong>Fecha inicio:</strong>
                {{ solicitud.dia_inicio|date:"d/m/Y" }}
            </p>
            <p>
                <strong>Fecha fin:</strong>
                {{ solicitud.dia_fin|date:"d/m/Y" }}
            </p>
            <p>
                <strong>Estado actual:</strong>
                {{ solicitud.estado_solicitud.nombre|default:"—" }}
            </p>
        </div>
        {% endif %}

        <form method="POST" class="solicitud-eliminar-form">
            {% csrf_token %}
            <button class="submit-btn btn-danger" type="submit">
                Eliminar
            </button>
            <a href="{% url 'lista_solicitudes' %}" class="submit-btn btn-secondary">
                Cancelar
            </a>
        </form>
    </div>
</section>
{% endblock %}
